{"data":{"site":{"siteMetadata":{"title":"La gaceta de la cabeza","author":"Joaquín Bravo Contreras"}},"markdownRemark":{"id":"c297be6c-1b50-5f08-a7dd-bf0379a8e390","excerpt":"UPDATE: cambié el plugin de vim que se utiliza para debuguear por uno más nuevo mantenido en github. El día de hoy estuve probando varios…","html":"<p>UPDATE: cambié el plugin de vim que se utiliza para debuguear por uno más nuevo mantenido en github.</p>\n<p>El día de hoy estuve probando varios IDEs para PHP, porque quería debuguear un script con XDebug en lugar de utilizando echos, krumos y exits. Es decir, me quería ver más fresón. Y me daba flojera utilizar emacs que es lo que antes he descrito que puedes utilizar para <a href=\"http://joaquin.axai.mx/debuguear-php-con-emacs-xdebug-y-geben\">debuguear PHP</a>. Así que me bajé y probé:</p>\n<ul>\n<li><a href=\"http://netbeans.org/kb/docs/php/debugging.html\">NetBeans</a>. El más lento de los 3.</li>\n<li><a href=\"http://www.jetbrains.com/phpstorm/\">PHPStorm</a>. El más fácil de configurar pero con la interfáz más rara.</li>\n<li><a href=\"http://devzone.zend.com/1147/debugging-php-applications-with-xdebug/\">Eclipse</a>. El más difícil de configurar, por mucho.</li>\n</ul>\n<p>Debo decir, que fue sumamente penoso y laborioso. Configurar cada uno de estos programas tiene su chiste, en especial eclipse fue un PAIN IN THE ASS. PHPStorm y NetBeans fueron más sencillos, pero vaya, que feas son los programas de java. Además de lentos. <strong>Lo peor de todos estos programas es configurar cada proyecto que quieres debuguear</strong>. Cuando debugueas con emacs y con vim simplemente lanzas el debugger y listo, abre cada archivo que vas necesitando sin tanta faramalla, así sean archivos de distintos proyectos (<strong>como cuando usas drush con tu proyecto de drupal</strong>). Así que al final desistí de estos <em>“IDEs modernos”</em> y regresé a vim.</p>\n<p>Debo decir que debuguear con vim ha sido muy placentero. Entonces, vamos a los pasos para instalar:</p>\n<ol>\n<li>Instalar XDebug. Hoy en día si usas ubuntu esto es de lo más sencillo: <code class=\"language-text\">sudo apt-get install php5-xdebug</code>. Si usas otro sistema operativo, buena suerte, seguro hay más tutoriales en google =). También recuerda aumentar el <a href=\"http://www.command-tab.com/2011/06/20/true-php-debugging-with-nginx-and-php-fpm/\">timeout the php-fpm</a>. En nginx esto es con <code class=\"language-text\">fastcgi_read_timeout 600;</code></li>\n<li>Configurar xdebug para que acepte conexiones remotas poniendo esta línea en tu php.ini o en el caso de ubuntu la puedes poner en /etc/php5/conf.d/xdebug.ini: <code class=\"language-text\">xdebug.remote_enable=on</code></li>\n<li>Instalar el <a href=\"https://github.com/ludovicPelle/vim-xdebug\">cliente de XDebug para vim</a>. Que simplemente lo bajas y pones archivos debugger.vim y debugger.py en tu carpeta .vim/plugin</li>\n</ol>\n<p>Y listo, cuando quieres debuguear simplemente preparas vim con F5 para que esté esperando conexiones de XDebug en el puerto 9000. Tienes entonces 5 segundos para lanzar tu script en la consola o entrar a la página de PHP que quieres debuguear. Si lo haces desde el explorador simplemente es cuestion de agregar <code class=\"language-text\">?XDEBUG_SESSION_START=1</code> al final de tu ruta o instalar la extensión de firefox de <a href=\"https://addons.mozilla.org/en-US/firefox/addon/easy-xdebug/\">easy Xdebug</a> para no tener que escribir esto sino simplemente apretar un boton para cuando quieras debuguear.</p>\n<p>El debugger de vim tiene los shortcuts en una de sus ventanas así que es muy sencillo de aprender. Los breakpoints funcionan muy bien, e inspeccionar variables también, así que no hay excusas para no usar xdebug ahora.</p>\n<p>Si estas usando xdebug con fpm o fastcgi en el puerto 9001 (como describo en un <a href=\"http://joaquin.axai.mx/debuguear-php-con-emacs-xdebug-y-geben\">post anterior</a>), entonces necesitas configurar el plugin de vim para escuchar este puerto poniendo esta línea en tu .vimrc:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">let g:debuggerPort = 9001</code></pre>\n      </div>\n<p>Saludos!</p>","frontmatter":{"title":"Debuguear PHP con vim y xdebug","date":"September 21, 2012"}}},"pageContext":{"slug":"/debuguear-php-con-vim-y-xdebug/","previous":{"fields":{"slug":"/drupalcamp-panama-2012/"},"frontmatter":{"title":"DrupalCamp Panamá 2012"}},"next":{"fields":{"slug":"/sobre-democracia-20-y-el-wikipartido/"},"frontmatter":{"title":"Sobre Democracia 2.0 y el wikipartido"}}}}