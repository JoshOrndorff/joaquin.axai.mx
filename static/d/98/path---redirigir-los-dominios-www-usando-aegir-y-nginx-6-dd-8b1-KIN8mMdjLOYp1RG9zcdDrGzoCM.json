{"data":{"site":{"siteMetadata":{"title":"La gaceta de la cabeza","author":"Joaquín Bravo Contreras"}},"markdownRemark":{"id":"3a5a22d5-f145-5a38-8856-70440aac3ebf","excerpt":"Desde hace algunos meses que usamos  aegir  para manejar todos los sitios de drupal de clientes que hosteamos en nuestro servidor. Es una…","html":"<p>Desde hace algunos meses que usamos <a href=\"http://aegirproject.org/\">aegir</a> para manejar todos los sitios de drupal de clientes que hosteamos en nuestro servidor. Es una bendición del cielo =). Pero por ahí acabamos de hacer una pequeña modificación. Usualmente, todos los dominios que manejamos tienen su version con www y sin www. Como www.elevare.org y <a href=\"http://elevare.org\">elevare.org</a>. Ambos queremos que funcionen. Con aegir tu puedes crear alias para tus sitios, pero como esto es una regla general, pues hicimos una modificación a la regla de nginx para que jale en TODOS los sitios www:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">## www. redirect\nif ($host ~* ^(www\\.)(.+)) {\n  set $rawdomain $2;\n  rewrite ^/(.*)$  http://$rawdomain/$1 permanent;\n}</code></pre>\n      </div>\n<p>Con esta regla de nginx puesta en el servidor default, todos los dominios con www serán redirigidos al dominio sin www. Presto =).</p>","frontmatter":{"title":"redirigir los dominios www usando aegir y nginx","date":"November 19, 2010"}}},"pageContext":{"slug":"/redirigir-los-dominios-www-usando-aegir-y-nginx/","previous":{"fields":{"slug":"/un-retorno-a-hattrick/"},"frontmatter":{"title":"Un retorno a Hattrick","aliases":["un-retorno-hattrickk","un-retorno-hattrick"]}},"next":{"fields":{"slug":"/mis-propositos-para-el-2011/"},"frontmatter":{"title":"Mis propósitos para el 2011","aliases":[]}}}}